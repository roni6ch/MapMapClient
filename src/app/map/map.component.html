<!-- MAP -->
<agm-map [latitude]="lat" [longitude]="lng" [zoom]="mapOptions.zoom" [minZoom]="mapOptions.zoom"  [maxZoom]="mapOptions.zoom"  
  
  (idle)="boundsChange(lng,lat)">
  <!-- MARKERS -->
  <agm-marker *ngFor="let a of apartments | filters:filtersArr" [latitude]="a.location.latlng.lat" [longitude]="a.location.latlng.lng" (markerClick)="openApartment(a,infowindow)">
     <!-- INFO WINDOW -->
     <agm-info-window [disableAutoPan]="true" #infowindow>
        <app-infowindow  [apartment]="a"  (apartmentOBJ)="openApartment($event)"></app-infowindow>
     </agm-info-window>
  </agm-marker>
</agm-map>


<!-- INFO WINDOW MODAL -->
<app-infowindow-modal  [apartment]="apartmentModal" ></app-infowindow-modal>